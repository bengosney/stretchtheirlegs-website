{"mappings":"C,A,WE0BA,IApByB,EAoBzB,EAZmB,SAAC,CAApB,EACE,GAAI,OAAO,YAAc,CAAC,OAAO,WAAW,oCAAoC,QAAS,CACvF,IAAM,EAAS,SAAS,cAAc,SACtC,CAAA,EAAO,IAAM,EAAO,IACpB,EAAO,MAAQ,CAAA,EACf,EAAO,MAAQ,CAAA,EACf,EAAO,OAAS,EAAO,OACvB,SAAS,KAAK,YAAY,GAC1B,SAAS,KAAK,UAAU,IAAI,UAAsB,OAAZ,EAAO,MAC/C,CACF,EDnBM,EAAU,MAChB,CAAA,EAAQ,WAAa,ECCL,KAAA,IADS,EDEZ,EAAQ,SCAV,QAAS,GAAU,SAAU,GDCtC,AAAA,EAAW,EAAQ,O","sources":["<anon>","js/stl.ts","js/effect.ts"],"sourcesContent":["(function () {\nvar $3946e34d2b36d3f9$export$fb2eda481f130b0b = function(effect) {\n    if (effect != undefined) return \"url\" in effect && \"name\" in effect;\n    return false;\n};\nvar $3946e34d2b36d3f9$var$loadEffect = function(effect) {\n    if (window.matchMedia && !window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches) {\n        var script = document.createElement(\"script\");\n        script.src = effect.url;\n        script.async = true;\n        script.defer = true;\n        script.onload = effect.onload;\n        document.head.appendChild(script);\n        document.body.classList.add(\"effect-\".concat(effect.name));\n    }\n};\nvar $3946e34d2b36d3f9$export$2e2bcd8739ae039 = $3946e34d2b36d3f9$var$loadEffect;\n\n\n//import initPreloads from \"./pre-load\";\n//initPreloads();\nvar $7b9597bda307d9d4$var$_window = window;\n$7b9597bda307d9d4$var$_window.loadEffect = (0, $3946e34d2b36d3f9$export$2e2bcd8739ae039);\nif ((0, $3946e34d2b36d3f9$export$fb2eda481f130b0b)($7b9597bda307d9d4$var$_window.effect)) (0, $3946e34d2b36d3f9$export$2e2bcd8739ae039)($7b9597bda307d9d4$var$_window.effect);\n\n})();\n//# sourceMappingURL=stl.js.map\n","import loadEffect, { isEffect } from \"./effect\";\n//import initPreloads from \"./pre-load\";\n\n//initPreloads();\n\nconst _window = window as any;\n_window.loadEffect = loadEffect;\n\nif (isEffect(_window.effect)) {\n  loadEffect(_window.effect);\n}\n","export interface Effect {\n  name: string;\n  url: string;\n  onload: () => null;\n}\n\nexport const isEffect = (effect: object | undefined): effect is Effect => {\n  if (effect != undefined) {\n    return \"url\" in effect && \"name\" in effect;\n  }\n\n  return false;\n};\n\nconst loadEffect = (effect: Effect) => {\n  if (window.matchMedia && !window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches) {\n    const script = document.createElement(\"script\");\n    script.src = effect.url;\n    script.async = true;\n    script.defer = true;\n    script.onload = effect.onload;\n    document.head.appendChild(script);\n    document.body.classList.add(`effect-${effect.name}`);\n  }\n};\n\nexport default loadEffect;\n"],"names":["effect","$3946e34d2b36d3f9$export$2e2bcd8739ae039","window","matchMedia","matches","script","document","createElement","src","url","async","defer","onload","head","appendChild","body","classList","add","concat","name","$7b9597bda307d9d4$var$_window","loadEffect","undefined"],"version":3,"file":"stl.js.map"}
