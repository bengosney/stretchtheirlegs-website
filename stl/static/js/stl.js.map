{"mappings":"YAAA,IC0BAA,EAZmB,SAACC,GAChB,GAAIC,OAAOC,aAAeD,OAAOC,WAAW,oCAAoCC,QAAS,CACrF,IAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IAAMP,EAAOQ,IACpBJ,EAAOK,OAAQ,EACfL,EAAOM,OAAQ,EACfN,EAAOO,OAASX,EAAOW,OACvBN,SAASO,KAAKC,YAAYT,GAC1BC,SAASS,KAAKC,UAAUC,IAAI,UAAsBC,OAAZjB,EAAOkB,MACjD,CACJ,GDxBqB,WACjB,IAAIC,EAEEC,EAAwBf,SAASC,cAAc,QACrDc,EAAKC,IAAM,WACXD,EAAKT,OAAS,W,OAAMS,EAAKE,gBAAgB,O,EACzCjB,SAASO,KAAKC,YAAYO,GAO1Bf,SAASkB,iBAAoC,WAAWC,SAAQ,SAACC,GACzDA,EAAQC,QAAUzB,OAAO0B,SAASD,SAClC,CAAC,YAAa,cAAcF,SAAQ,SAACI,GACjCH,EAAQI,iBAAiBD,GAAO,W,OAR5B,SAACH,GACbK,aAAaX,GACbA,EAAQY,YAAW,W,OAAOX,EAAKY,KAAOP,EAAQO,I,GAAO,GACzD,CAKkDC,CAAQR,E,IAAU,EAC5D,IACA,CAAC,WAAY,YAAYD,SAAQ,SAACI,GAC9BH,EAAQI,iBAAiBD,GAAO,W,OAAMR,EAAKE,gBAAgB,O,IAAS,EACxE,IAER,GACJ,EEpBA,GAEA,IDCyBtB,ECDnBkC,EAAWjC,OACjBiC,EAAQC,WAAapC,EDCHqC,OADOpC,ECEZkC,EAAQlC,SDAN,QAASA,GAAU,SAAUA,GCCxCD,EAAWmC,EAAQlC,O","sources":["js/pre-load.ts","js/effect.ts","js/stl.ts"],"sourcesContent":["const initPreloads = () => {\n    let timer: NodeJS.Timer | undefined;\n\n    const link: HTMLLinkElement = document.createElement(\"link\");\n    link.rel = \"prefetch\";\n    link.onload = () => link.removeAttribute(\"href\");\n    document.head.appendChild(link);\n\n    const preload = (element: HTMLAnchorElement) => {\n        clearTimeout(timer);\n        timer = setTimeout(() => (link.href = element.href), 50);\n    };\n\n    document.querySelectorAll<HTMLAnchorElement>(\"a[href]\").forEach((element) => {\n        if (element.origin == window.location.origin) {\n            [\"mouseover\", \"touchstart\"].forEach((event) => {\n                element.addEventListener(event, () => preload(element), true);\n            });\n            [\"mouseout\", \"touchend\"].forEach((event) => {\n                element.addEventListener(event, () => link.removeAttribute(\"href\"), true);\n            });\n        }\n    });\n};\n\nexport default initPreloads;\n","export interface Effect {\n    name: string;\n    url: string;\n    onload: () => null;\n}\n\nexport const isEffect = (effect: object | undefined): effect is Effect => {\n    if (effect != undefined) {\n        return 'url' in effect && 'name' in effect;\n    }\n\n    return false;\n}\n\nconst loadEffect = (effect: Effect) => {\n    if (window.matchMedia && !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\n        const script = document.createElement(\"script\");\n        script.src = effect.url;\n        script.async = true;\n        script.defer = true;\n        script.onload = effect.onload;\n        document.head.appendChild(script);\n        document.body.classList.add(`effect-${effect.name}`)\n    }\n}\n\nexport default loadEffect;","import initPreloads from \"./pre-load\";\nimport loadEffect, { isEffect } from \"./effect\";\n\ninitPreloads();\n\nconst _window = (window as any);\n_window.loadEffect = loadEffect;\n\nif (isEffect(_window.effect)) {\n    loadEffect(_window.effect);\n}\n"],"names":["$3946e34d2b36d3f9$export$2e2bcd8739ae039","effect","window","matchMedia","matches","script","document","createElement","src","url","async","defer","onload","head","appendChild","body","classList","add","concat","name","timer","link","rel","removeAttribute","querySelectorAll","forEach","element","origin","location","event","addEventListener","clearTimeout","setTimeout","href","preload","$7b9597bda307d9d4$var$_window","loadEffect","undefined"],"version":3,"file":"stl.js.map"}
